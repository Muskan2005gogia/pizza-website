<!-- code by muskan gogia -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Register</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      overflow: hidden;
    }

    .background-img {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      z-index: -1;
    }

    .container {
      background-color: rgba(255, 255, 255, 0.95);
      padding: 30px 40px;
      border-radius: 16px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
      width: 90%;
      max-width: 400px;
      text-align: center;
    }

    h2 {
      color: #d35400;
      margin-bottom: 20px;
      font-size: 26px;
    }

    input {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 16px;
      box-sizing: border-box;
      transition: border-color 0.3s, box-shadow 0.3s;
    }

    input:focus {
      border-color: #d35400;
      outline: none;
      box-shadow: 0 0 5px rgba(211, 84, 0, 0.4);
    }

    button {
      background-color: #d35400;
      color: white;
      padding: 12px;
      width: 100%;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.2s;
      margin-top: 10px;
    }

    button:hover {
      background-color: #e67e22;
      transform: scale(1.02);
    }

    #message {
      margin-top: 10px;
      font-weight: bold;
      color: #c0392b;
    }

    a {
      color: #d35400;
      text-decoration: none;
      font-weight: 500;
    }

    a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <img class="background-img" src="https://images5.alphacoders.com/381/381504.jpg" alt="Pizza Background">

  <div class="container">
    <h2>Register</h2>
    <input type="text" id="name" placeholder="Name (only alphabets)">
    <input type="text" id="phone" placeholder="Phone (10-digit)" maxlength="10">
    <input type="email" id="email" placeholder="Email">
    <input type="number" id="age" placeholder="Age (1-100)" min="1" max="100">
    <input type="password" id="password" placeholder="4-digit Password" maxlength="4">
    <button onclick="registerUser()">Register</button>
    <p id="message"></p>
    <p>Already have an account? <a href="login.html">Login</a></p>
  </div>

  <script>
    // Input restrictions
    document.getElementById("name").addEventListener("input", function () {
      this.value = this.value.replace(/[^A-Za-z\s]/g, '');
    });

    document.getElementById("phone").addEventListener("input", function () {
      this.value = this.value.replace(/\D/g, '').slice(0, 10);
    });

    document.getElementById("password").addEventListener("input", function () {
      this.value = this.value.replace(/\D/g, '').slice(0, 4);
    });

    document.getElementById("age").addEventListener("input", function () {
      this.value = this.value.replace(/\D/g, '');
      if (this.value !== "") {
        let val = parseInt(this.value);
        if (val > 100) this.value = 100;
        if (val < 1) this.value = "";
      }
    });

    function registerUser() {
      const name = document.getElementById("name").value.trim();
      const phone = document.getElementById("phone").value.trim();
      const email = document.getElementById("email").value.trim();
      const age = parseInt(document.getElementById("age").value.trim());
      const password = document.getElementById("password").value.trim();
      const message = document.getElementById("message");

      // Validation
      if (!/^[A-Za-z\s]+$/.test(name)) {
        message.textContent = "Name must contain only alphabets.";
        return;
      }

      if (!/^\d{10}$/.test(phone)) {
        message.textContent = "Phone must be exactly 10 digits.";
        return;
      }

      if (!/^\d{4}$/.test(password)) {
        message.textContent = "Password must be exactly 4 digits.";
        return;
      }

      if (!email || isNaN(age) || age < 1 || age > 100) {
        message.textContent = "Please enter a valid age between 1 and 100.";
        return;
      }

      // Get existing users
      let users = JSON.parse(localStorage.getItem("users")) || [];

      // Check for duplicates
      if (users.some(user => user.phone === phone)) {
        message.style.color = "red";
        message.textContent = "User with this phone already exists.";
        return;
      }

      // Add user
      const userDetails = { name, phone, email, age, password };
      users.push(userDetails);
      localStorage.setItem("users", JSON.stringify(users));
      localStorage.setItem("loggedInPhone", phone); // optional

      message.style.color = "green";
      message.textContent = "Registration successful! Redirecting...";

      setTimeout(() => {
        window.location.href = "login.html";
      }, 2000);
    }
  </script>
</body>
</html>
